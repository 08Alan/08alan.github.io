[{"title":"WebForm-MultiTiers","slug":"WebForm-MultiTiers","date":"2017-04-25T03:35:36.000Z","updated":"2017-04-25T03:44:07.000Z","comments":true,"path":"2017/04/25/WebForm-MultiTiers/","link":"","permalink":"https://08alan.github.io/2017/04/25/WebForm-MultiTiers/","excerpt":"多層式架構(Multi Tiers) 也稱為分散式架構或多層應用程式 基礎的多層式架構大多包含了&gt;展示(網頁的前端)，中繼(Code的判斷邏輯)，資料(Source Data) 這種開發模式的優點不僅使網站變得管理方便，迅速 更可將網站模組化，於修改其他階層時較不易受影響。","text":"多層式架構(Multi Tiers) 也稱為分散式架構或多層應用程式 基礎的多層式架構大多包含了&gt;展示(網頁的前端)，中繼(Code的判斷邏輯)，資料(Source Data) 這種開發模式的優點不僅使網站變得管理方便，迅速 更可將網站模組化，於修改其他階層時較不易受影響。比對一下，此次開發的專案 想當然是一種Tiers的表示方式 以下展示資料基底的部分，也就是Dao Dao被稱為數據訪問對象 在這次的專案內提供了DB資料的查詢及異動 內容Region分成了QueryGet,Insert,Update,Delete 如上圖所示 這是一個簡單的查詢 包含了一個條件 並於結束後回傳一個DataTable Dao所需要的值由Entity.cs提供 為了預防資料隱碼(SQL injection)使用參數入值 最後在return 給Service層做資料使用。 此層的目的主要在於資料的讀取及判斷 並將類似的查詢使用條件作為區分 故Dao為基底提供不同頁面Service做程式面的判斷及使用。","categories":[],"tags":[{"name":"ASP.NET WebForm","slug":"ASP-NET-WebForm","permalink":"https://08alan.github.io/tags/ASP-NET-WebForm/"}]},{"title":"Javascript開始與結束日期-不足補0","slug":"Javascript開始與結束日期-不足補0","date":"2017-04-25T02:59:22.000Z","updated":"2017-04-25T03:05:32.000Z","comments":true,"path":"2017/04/25/Javascript開始與結束日期-不足補0/","link":"","permalink":"https://08alan.github.io/2017/04/25/Javascript開始與結束日期-不足補0/","excerpt":"根據檢舉達人舉發 先前開發的日期比較出錯，於是立刻想到邏輯可能沒判斷完成 問題發生如下↓ 123var today = new Date();td = today.getFullYear() + '/' + today.getMonth() + 1; + '/' + today.getDate();//輸出結果 &gt;&gt;2014/8/8","text":"根據檢舉達人舉發 先前開發的日期比較出錯，於是立刻想到邏輯可能沒判斷完成 問題發生如下↓ 123var today = new Date();td = today.getFullYear() + '/' + today.getMonth() + 1; + '/' + today.getDate();//輸出結果 &gt;&gt;2014/8/8 而要比較的日期內容為 立即下比較的結果 當然是失算拉!!! 12345678910//日期比較function checkDateEarlier(strStart, strEnd) &#123; var d1 = Date.parse(strStart); var d2 = Date.parse(strEnd); if (parseInt(d1, 10) &gt; parseInt(d2, 10)) &#123; return false; &#125; else &#123;return true;&#125;&#125; 同上一篇的內容將日期改為數字比大小201488000000當然比201408080000來的大 但這兩個日期在人類的眼中是同一日阿!! google了一下 發現許多前輩 皆寫了method來解決此問題 通常是在Date()後方 新增一個format的方法 但 考量到code複雜 與 花費時間 只好套用其中一個較簡便的方法↓ 12345var Today = new Date();var yyyy = Today .getFullYear().toString();var mm = (Today.getMonth()+1).toString();var dd = Today.getDate().toString();var thisDate = yyyy+\"-\"+(mm[1] ? mm : \"0\"+mm[0])+\"-\"+(dd[1] ? dd : \"0\" +dd[0]) ; 經過測試後…發現較低階的瀏覽器支援js並沒有陣列式的轉換(但較高階的都可以處理完成) 造成了mm[0] 與 dd[0] 為underfined 反正目的是不足要補0 使用大絕招 if判斷補0 12345678910var today = new Date();var tdm = today.getMonth() + 1;if (tdm.toString().length == 1) &#123; tdm = \"0\" + tdm;&#125;var tdd = today.getDate()if (tdd.toString().length == 1) &#123; tdd = \"0\" + tdd;&#125;td = today.getFullYear() + '/' + tdm + '/' + tdd; 讓我們來看看輸出結果 最後拿去比較後的判斷了日期完成!!!","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://08alan.github.io/tags/Javascript/"}]},{"title":"Javascript開始與結束日期比較","slug":"Javascript開始與結束日期比較","date":"2017-04-24T09:38:34.000Z","updated":"2017-04-25T02:56:22.000Z","comments":true,"path":"2017/04/24/Javascript開始與結束日期比較/","link":"","permalink":"https://08alan.github.io/2017/04/24/Javascript開始與結束日期比較/","excerpt":"最近專案遇到了一個比較日期開始與結束的功能 若不用套件使用原生js還沒玩過 ~ 讓我們繼續看下去 雖然DataDiff是很方便的語法 但這次使用土法煉鋼的方式 將日期函式用陣列來比較 split(&quot;/&quot;)將日期做分離 得到arr[1] 年, arr[2] 月, arr[3] 日 接著將date1,date2 年月日都串起來","text":"最近專案遇到了一個比較日期開始與結束的功能 若不用套件使用原生js還沒玩過 ~ 讓我們繼續看下去 雖然DataDiff是很方便的語法 但這次使用土法煉鋼的方式 將日期函式用陣列來比較 split(&quot;/&quot;)將日期做分離 得到arr[1] 年, arr[2] 月, arr[3] 日 接著將date1,date2 年月日都串起來用int的方式進行大小比較 畢竟前面一定是20XX(至少在我昇天之前QQ) 我們就從2千零一十四萬開始比大小吧!! 12345678910111213141516171819function checkDateEarlier(strStart, strEnd) &#123; var arr1 = strStart.split(\"/\"); var arr2 = strEnd.split(\"/\"); var date1 = new Date(arr1[0], parseInt(arr1[1].replace(/^0/, \"\"), 10) - 1, arr1[2]); var date2 = new Date(arr2[0], parseInt(arr2[1].replace(/^0/, \"\"), 10) - 1, arr2[2]); if (arr1[1].length == 1) arr1[1] = \"0\" + arr1[1]; if (arr1[2].length == 1) arr1[2] = \"0\" + arr1[2]; if (arr2[1].length == 1) arr2[1] = \"0\" + arr2[1]; if (arr2[2].length == 1) arr2[2] = \"0\" + arr2[2]; var d1 = arr1[0] + arr1[1] + arr1[2]; var d2 = arr2[0] + arr2[1] + arr2[2]; if (parseInt(d1, 10) &gt; parseInt(d2, 10)) &#123; return false; &#125; 比較日期欄位是否小於今日 12345td = today.getFullYear() + '/' + (today.getMonth() + 1) + '/' + today.getDate();if (!checkDateEarlier(td, starttime.value)) &#123; alert(WarningStr); return false;&#125; 開始與結束日期做比較 1234if (!checkDateEarlier(timestart.value, timeend.value)) &#123; alert(WarningStr+\"(日期錯誤)\"); return false;&#125; 若是年份相同 比較小時 1234if (parseInt(starth) &gt; parseInt(endh)) &#123; alert(WarningStr+\"(小時錯誤)\"); return false; &#125; 若是小時相同比較分鐘 12345if (starth = endh) &#123; if (startm &gt;= endm) &#123; alert(WarningStr+ \"(分鐘錯誤)\"); return false; &#125;","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://08alan.github.io/tags/Javascript/"}]},{"title":"連接InfomixDB","slug":"連接InfomixDB","date":"2017-04-24T06:48:02.000Z","updated":"2017-04-24T09:34:40.000Z","comments":true,"path":"2017/04/24/連接InfomixDB/","link":"","permalink":"https://08alan.github.io/2017/04/24/連接InfomixDB/","excerpt":"近期收到一需求,採用localDB進行開發 搞定需求後,開始進行資料庫建置… 沒想到 竟然是沒接觸過的 IBM infomix 瞬間Orz Informix相關資料較少 查詢資料與測試花不少時間 在此進行筆記 先到 IBM 官網下載Informix Client Software Development Kit (Client SDK) 這邊要注意Server的系統位元組會影響連接","text":"近期收到一需求,採用localDB進行開發 搞定需求後,開始進行資料庫建置… 沒想到 竟然是沒接觸過的 IBM infomix 瞬間Orz Informix相關資料較少 查詢資料與測試花不少時間 在此進行筆記 先到 IBM 官網下載Informix Client Software Development Kit (Client SDK) 這邊要注意Server的系統位元組會影響連接安裝完成後 將 IBM.Data.Informix.dll 加入專案參考 連接工具使用SSMS試看看(果然不行) 這邊採用的是RazorSQL 基礎語法與SQL Server相似,進階需求除外 連接字串則需要稍作修改 1234567using IBM.Data.Informix; string conn= &quot;Host=&quot; + HOST + &quot;; &quot; + &quot;Service=&quot; + SERVICENUM + &quot;; &quot; + &quot;Server=&quot; + SERVER + &quot;; &quot; + &quot;Database=&quot; + DATABASE + &quot;; &quot; + &quot;User Id=&quot; + USER + &quot;; &quot; + &quot;Password=&quot; + PASSWORD + &quot;; &quot;; 如果您使用的是sqldatasource 記得設定資料來源管理員(ODBC) 以上應該就能連結資料庫囉","categories":[],"tags":[{"name":"SQL Server","slug":"SQL-Server","permalink":"https://08alan.github.io/tags/SQL-Server/"}]},{"title":"SQL Server - Convert日期函數","slug":"Convert日期函數","date":"2017-04-24T05:21:00.000Z","updated":"2017-04-24T09:26:09.000Z","comments":true,"path":"2017/04/24/Convert日期函數/","link":"","permalink":"https://08alan.github.io/2017/04/24/Convert日期函數/","excerpt":"代碼與格式時常忘記隨手紀錄常用的日期函數","text":"代碼與格式時常忘記隨手紀錄常用的日期函數1234567891011121314151617181920212223242526272829303132333435363738394041Select CONVERT(varchar(100), GETDATE(), 0): 05 16 2006 10:57AM Select CONVERT(varchar(100), GETDATE(), 1): 05/16/06 Select CONVERT(varchar(100), GETDATE(), 2): 06.05.16 Select CONVERT(varchar(100), GETDATE(), 3): 16/05/06 Select CONVERT(varchar(100), GETDATE(), 4): 16.05.06 Select CONVERT(varchar(100), GETDATE(), 5): 16-05-06 Select CONVERT(varchar(100), GETDATE(), 6): 16 05 06 Select CONVERT(varchar(100), GETDATE(), 7): 05 16, 06 Select CONVERT(varchar(100), GETDATE(), 8): 10:57:46 Select CONVERT(varchar(100), GETDATE(), 9): 05 16 2006 10:57:46:827AM Select CONVERT(varchar(100), GETDATE(), 10): 05-16-06 Select CONVERT(varchar(100), GETDATE(), 11): 06/05/16 Select CONVERT(varchar(100), GETDATE(), 12): 060516 Select CONVERT(varchar(100), GETDATE(), 13): 16 05 2006 10:57:46:937 Select CONVERT(varchar(100), GETDATE(), 14): 10:57:46:967 Select CONVERT(varchar(100), GETDATE(), 20): 2006-05-16 10:57:47 Select CONVERT(varchar(100), GETDATE(), 21): 2006-05-16 10:57:47.157 Select CONVERT(varchar(100), GETDATE(), 22): 05/16/06 10:57:47 AM Select CONVERT(varchar(100), GETDATE(), 23): 2006-05-16 Select CONVERT(varchar(100), GETDATE(), 24): 10:57:47 Select CONVERT(varchar(100), GETDATE(), 25): 2006-05-16 10:57:47.250 Select CONVERT(varchar(100), GETDATE(), 100): 05 16 2006 10:57AM Select CONVERT(varchar(100), GETDATE(), 101): 05/16/2006 Select CONVERT(varchar(100), GETDATE(), 102): 2006.05.16 Select CONVERT(varchar(100), GETDATE(), 103): 16/05/2006 Select CONVERT(varchar(100), GETDATE(), 104): 16.05.2006 Select CONVERT(varchar(100), GETDATE(), 105): 16-05-2006 Select CONVERT(varchar(100), GETDATE(), 106): 16 05 2006 Select CONVERT(varchar(100), GETDATE(), 107): 05 16, 2006 Select CONVERT(varchar(100), GETDATE(), 108): 10:57:49 Select CONVERT(varchar(100), GETDATE(), 109): 05 16 2006 10:57:49:437AM Select CONVERT(varchar(100), GETDATE(), 110): 05-16-2006 Select CONVERT(varchar(100), GETDATE(), 111): 2006/05/16 Select CONVERT(varchar(100), GETDATE(), 112): 20060516 Select CONVERT(varchar(100), GETDATE(), 113): 16 05 2006 10:57:49:513 Select CONVERT(varchar(100), GETDATE(), 114): 10:57:49:547 Select CONVERT(varchar(100), GETDATE(), 120): 2006-05-16 10:57:49 Select CONVERT(varchar(100), GETDATE(), 121): 2006-05-16 10:57:49.700 Select CONVERT(varchar(100), GETDATE(), 126): 2006-05-16T10:57:49.827 Select CONVERT(varchar(100), GETDATE(), 130): 18 ???? ?????? 1427 10:57:49:907AM Select CONVERT(varchar(100), GETDATE(), 131): 18/04/1427 10:57:49:920AM","categories":[],"tags":[{"name":"SQL Server","slug":"SQL-Server","permalink":"https://08alan.github.io/tags/SQL-Server/"}]}]